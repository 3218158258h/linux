
## 项目概述
- 基于IMX6ULL平台的智能网关
- 当前仅支持蓝牙设备，后续将接入LoRa设备
- 待开发功能：OTA升级、守护进程

**运行**
```
./gateway app
```

### 蓝牙设备
- 基于JDY-24M超级蓝牙模块
   - 网关端：接入1个蓝牙模块
   - 下位机端：接入1个蓝牙模块（可通过PC机串口模拟）
- 网关启动后通过AT指令对蓝牙模块进行初始化配置

**消息格式**：
   - 上位机发送JSON格式：
   ```json
   {
     "connection_type": 1,
     "id": "AABBCCDD",
     "data": "112233445566"
   }
   ```
### Message模块
- 处理消息格式转换（JSON与二进制）
- 消息结构：连接类型、设备ID、数据
  - 从二进制数据初始化消息
  - 从JSON字符串初始化消息
  - 消息序列化为二进制/JSON

### 设备模块
- 抽象设备通用操作，支持串口等设备类型
  - 后台线程负责数据读取与缓存
  - 虚函数表支持设备类型扩展
  - 读写缓冲区分离，通过回调处理数据
- 初始化、启动/停止、读写数据、注册回调、关闭设备

